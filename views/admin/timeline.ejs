<% include ../head.ejs %>

<div class="container">
    <div id="visualization"></div>
</div>

<link href="/components/vis/dist/vis-timeline-graph2d.min.css" rel="stylesheet">
<script src="/components/vis/dist/vis-timeline-graph2d.min.js"></script>
<script>
    const groupsInput = JSON.parse('<%- JSON.stringify(groups) %>');
    const itemsInput = JSON.parse('<%- JSON.stringify(items) %>');

    const groups = new vis.DataSet(groupsInput);
    const items = new vis.DataSet(itemsInput);

    const container = document.getElementById('visualization');
    const options = {
        groupOrder: 'content' // groupOrder can be a property name or a sorting function
    };
    const timeline = new vis.Timeline(container);
    timeline.setOptions(options);
    timeline.setGroups(groups);
    timeline.setItems(items);

    //TODO on move item, move all items to the right in sync
</script>

<% include ../foot.ejs %>